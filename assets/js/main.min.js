"use strict";var _slicedToArray=function(){function a(b,c){var d=[],e=!0,f=!1,g;try{for(var j,h=b[Symbol.iterator]();!(e=(j=h.next()).done)&&(d.push(j.value),!(c&&d.length===c));e=!0);}catch(k){f=!0,g=k}finally{try{!e&&h["return"]&&h["return"]()}finally{if(f)throw g}}return d}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_location$hash$replac=location.hash.replace("#","").split(";"),_location$hash$replac2=_slicedToArray(_location$hash$replac,3),jwt=_location$hash$replac2[0],botname=_location$hash$replac2[1],g_sitekey=_location$hash$replac2[2],requestInfo=JSON.parse(window.atob(jwt.split(".")[1].replace(/-/g,"+").replace(/_/g,"/")));$(".gname").text(decodeURIComponent(requestInfo.data.gname)),$(".uid").text(requestInfo.data.uid),$(".gid").text(requestInfo.data.gid),$(".botname").text(botname),$(".botname").attr("href","https://t.me/"+botname);var verifyCallback=function(b){toastr.info("Uploading your challenge data...","Verification Passed!");var c=JSON.stringify({jwt:jwt,gresponse:b});$.ajax("https://bytebin.lucko.me/post",{contentType:"application/json; charset=utf-8",dataType:"json",data:CryptoJS.AES.encrypt(c,requestInfo.data.uid).toString(),method:"POST",success:function(f){var g=f.key;if(g){var h,j,k;(function(){var l="tg://resolve?domain="+botname+"&start=&"+g;"function"==typeof UAParser&&"Android"===UAParser().os.name&&(l="tg:resolve?domain="+botname+"&start=&"+g),$(".botname").attr("href","https://t.me/"+botname+"?start="+g),$(".metaURL").attr("content",l),"function"==typeof UAParser&&"iOS"===UAParser().os.name?(h=document.getElementById("tgme_frame_cont")||document.body,j=document.createElement("iframe"),h.appendChild(j),k=!1,window.addEventListener("pagehide",function(){k=!0},!1),window.addEventListener("blur",function(){k=!0},!1),null!==j&&(j.src=l),setTimeout(function(){k||(window.location=l,toastr.warning("You may close this page now if you are iOS user."))},2e3)):l&&setTimeout(function(){window.location=l},100),toastr.success("If you aren't be redirected to bot, please click the bot name shown following.","Redirecting...")})()}document.getElementById("recaptcha-response").innerText="/verify "+window.btoa(c),setTimeout(function(){document.getElementById("guideForManual").style.display=""},2e3)},error:function(){toastr.error("Please send the following /verify command to bot manually.","Failed to Upload Payload",{timeOut:1e4}),document.getElementById("recaptcha-response").innerText="/verify "+window.btoa(c),document.getElementById("guideForManual").style.display=""}})},captchaLoaded=!1;setTimeout(function(){!1==captchaLoaded&&loadCaptcha_CN()},2e3);function loadCaptcha_CN(){var b=document.createElement("script");b.type="text/javascript",b.src="https://recaptcha.google.cn/recaptcha/api.js?onload=onloadCallback&render=explicit",document.body.appendChild(b)}var onloadCallback=function(){captchaLoaded=!0,grecaptcha.render("g-recaptcha",{sitekey:g_sitekey,callback:verifyCallback})};windows.addEventListener("load",function(){Math.floor(new Date/1e3)>requestInfo.exp&&toastr.error("You may like to leave and rejoin the group "+decodeURIComponent(requestInfo.data.gname)+" for a new token.","Token Expired",{timeOut:5e3})});